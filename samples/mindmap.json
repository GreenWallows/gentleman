{
    "mindmap": {
        "nature": "concrete",
        "attribute": {
            "title": {
                "target": "string",
                "projection": [
                    {
                        "type": "field",
                        "view": "text",
                        "placeholder": "Title"
                    }
                ]
            },
            "description": {
                "target": "string",
                "required": false,
                "projection": [
                    {
                        "type": "field",
                        "view": "text",
                        "before": {
                            "projection": [
                                {
                                    "layout": {
                                        "type": "text",
                                        "disposition": "Description: "
                                    }
                                }
                            ]
                        }
                    }
                ]
            }
        },
        "component": {
            "central_topic": {
                "attribute": {
                    "markers": {
                        "target": "set",
                        "accept": "marker",
                        "min": 1,
                        "projection": [
                            {
                                "type": "field",
                                "view": "list",
                                "orientation": "horizontal",
                                "item": {
                                    "after": {
                                        "projection": [
                                            {
                                                "layout": {
                                                    "type": "wrap",
                                                    "style": {
                                                        "box": {
                                                            "space": {
                                                                "outer": {
                                                                    "right": 3
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "disposition": [
                                                        ","
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                },
                                "action": {
                                    "add": {
                                        "projection": [
                                            {
                                                "layout": {
                                                    "type": "wrap",
                                                    "disposition": [
                                                        "Add a marker"
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                }
                            }
                        ]
                    },
                    "topic": {
                        "target": "central_topic"
                    }
                },
                "projection": [
                    {
                        "layout": {
                            "type": "stack",
                            "orientation": "vertical",
                            "disposition": [
                                "Markers: #markers",
                                "#topic"
                            ]
                        }
                    }
                ]
            }
        },
        "projection": [
            {
                "element": {
                    "heading": {
                        "layout": {
                            "type": "text",
                            "style": {
                                "text": {
                                    "size": 24,
                                    "bold": 800,
                                    "color": {
                                        "type": "rgb",
                                        "value": "#555"
                                    }
                                },
                                "box": {
                                    "space": {
                                        "outer": {
                                            "bottom": 12
                                        }
                                    }
                                }
                            },
                            "disposition": "Mind Map"
                        }
                    },
                    "identification": {
                        "layout": {
                            "type": "stack",
                            "orientation": "vertical",
                            "style": {
                                "box": {
                                    "border": {
                                        "bottom": {
                                            "size": 2,
                                            "color": {
                                                "type": "rgb",
                                                "value": "#d5d5d5"
                                            }
                                        }
                                    }
                                }
                            },
                            "disposition": [
                                "Mind map #title",
                                "#description"
                            ]
                        }
                    }
                },
                "layout": {
                    "type": "stack",
                    "orientation": "vertical",
                    "disposition": [
                        "$heading",
                        "$identification",
                        "#central_topic:component"
                    ]
                }
            }
        ]
    },
    "marker": {
        "nature": "concrete",
        "attribute": {
            "symbol": {
                "target": "string"
            }
        },
        "projection": [
            {
                "tags": ["editor"],
                "layout": {
                    "type": "wrap",
                    "disposition": [
                        "#symbol"
                    ]
                }
            },
            {
                "tags": ["choice"],
                "readonly": true,
                "layout": {
                    "type": "wrap",
                    "disposition": [
                        "Symbol #symbol"
                    ]
                }
            }
        ]
    },
    "topic": {
        "nature": "prototype",
        "attribute": {
            "name": {
                "target": "string"
            },
            "details": {
                "target": "string",
                "required": false
            },
            "marker": {
                "target": "reference",
                "accept": "marker",
                "required": false
            }
        }
    },
    "central_topic": {
        "prototype": "topic",
        "nature": "concrete",
        "component": {
            "main_topics": {
                "attribute": {
                    "topics": {
                        "target": "set",
                        "accept": "main_topic",
                        "min": 1,
                        "projection": [
                            {
                                "type": "field",
                                "view": "list",
                                "orientation": "horizontal",
                                "item": {
                                    "style": {
                                        "box": {
                                            "space": {
                                                "inner": {
                                                    "top": 10,
                                                    "left": 15,
                                                    "right": 15,
                                                    "bottom": 10
                                                },
                                                "outer": {
                                                    "right": 10
                                                }
                                            },
                                            "border": {
                                                "size": 4,
                                                "color": "royalblue",
                                                "radius": 10
                                            },
                                            "background": {
                                                "type": "rgb",
                                                "value": "#E1EBF9"
                                            }
                                        }
                                    }
                                },
                                "action": {
                                    "add": {
                                        "projection": [
                                            {
                                                "layout": {
                                                    "type": "stack",
                                                    "orientation": "vertical",
                                                    "style": {
                                                        "box": {
                                                            "space": {
                                                                "inner": 15
                                                            }
                                                        }
                                                    },
                                                    "disposition": [
                                                        {
                                                            "type": "wrap",
                                                            "disposition": [
                                                                {
                                                                    "type": "text",
                                                                    "style": {
                                                                        "text": {
                                                                            "bold": 600
                                                                        }
                                                                    },
                                                                    "disposition": "Main topic"
                                                                },
                                                                {
                                                                    "type": "text",
                                                                    "style": {
                                                                        "text": {
                                                                            "italic": true
                                                                        }
                                                                    },
                                                                    "disposition": "<name>"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "text",
                                                            "style": {
                                                                "text": {
                                                                    "italic": true
                                                                }
                                                            },
                                                            "disposition": "<details?>"
                                                        },
                                                        {
                                                            "type": "text",
                                                            "style": {
                                                                "text": {
                                                                    "bold": 700,
                                                                    "size": 15
                                                                }
                                                            },
                                                            "disposition": "Subtopics"
                                                        },
                                                        {
                                                            "type": "text",
                                                            "style": {
                                                                "text": {
                                                                    "italic": true
                                                                }
                                                            },
                                                            "disposition": "<subtopics>"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                }
                            }
                        ]
                    }
                },
                "projection": [
                    {
                        "layout": {
                            "type": "stack",
                            "orientation": "vertical",
                            "disposition": [
                                {
                                    "type": "text",
                                    "style": {
                                        "text": {
                                            "bold": 700,
                                            "color": {
                                                "type": "rgb",
                                                "value": "#333"
                                            },
                                            "size": 18
                                        }
                                    },
                                    "disposition": "Main topics"
                                },
                                "#topics"
                            ]
                        }
                    }
                ]
            }
        },
        "projection": [
            {
                "layout": {
                    "type": "stack",
                    "orientation": "vertical",
                    "disposition": [
                        {
                            "type": "wrap",
                            "style": {
                                "text": {
                                    "bold": true,
                                    "size": 16
                                }
                            },
                            "disposition": [
                                "Central topic #name (#marker)"
                            ]
                        },
                        "#main_topics:component"
                    ]
                }
            }
        ]
    },
    "main_topic": {
        "prototype": "topic",
        "nature": "concrete",
        "component": {
            "sub_topics": {
                "attribute": {
                    "topics": {
                        "target": "set",
                        "accept": "sub_topic",
                        "required": false,
                        "min": 1,
                        "projection": [
                            {
                                "type": "field",
                                "view": "list",
                                "orientation": "horizontal",
                                "item": {
                                    "style": {
                                        "box": {
                                            "space": {
                                                "inner": 5,
                                                "outer": {
                                                    "right": 5
                                                }
                                            },
                                            "border": {
                                                "size": 2,
                                                "color": {
                                                    "type": "rgb",
                                                    "value": "#3FBA5E"
                                                },
                                                "radius": 2
                                            },
                                            "background": {
                                                "type": "rgb",
                                                "value": "#D6F9D8"
                                            }
                                        }
                                    }
                                },
                                "action": {
                                    "add": {
                                        "projection": [
                                            {
                                                "layout": {
                                                    "type": "wrap",
                                                    "style": {
                                                        "box": {
                                                            "space": {
                                                                "inner": 5
                                                            }
                                                        }
                                                    },
                                                    "disposition": [
                                                        "Add a subtopic"
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                }
                            }
                        ]
                    }
                },
                "projection": [
                    {
                        "layout": {
                            "type": "stack",
                            "orientation": "vertical",
                            "disposition": [
                                {
                                    "type": "text",
                                    "style": {
                                        "text": {
                                            "bold": 700,
                                            "color": {
                                                "type": "rgb",
                                                "value": "#333"
                                            },
                                            "size": 16
                                        }
                                    },
                                    "disposition": "Subtopics"
                                },
                                "#topics"
                            ]
                        }
                    }
                ]
            }
        },
        "projection": [
            {
                "element": {
                    "heading": {
                        "layout": {
                            "type": "wrap",
                            "style": {
                                "text": {
                                    "bold": 600
                                }
                            },
                            "disposition": [
                                "Main topic #name"
                            ]
                        }
                    }
                },
                "layout": {
                    "type": "stack",
                    "orientation": "vertical",
                    "disposition": [
                        "$heading",
                        "#details",
                        "#sub_topics:component"
                    ]
                }
            }
        ]
    },
    "sub_topic": {
        "prototype": "topic",
        "nature": "concrete",
        "component": {
            "sub_topics": {
                "required": false,
                "attribute": {
                    "topics": {
                        "target": "set",
                        "accept": "sub_topic",
                        "min": 0,
                        "projection": [
                            {
                                "type": "field",
                                "view": "list",
                                "item": {
                                    "style": {
                                        "box": {
                                            "space": {
                                                "inner": 3,
                                                "outer": {
                                                    "bottom": 5
                                                }
                                            },
                                            "border": {
                                                "size": 1,
                                                "color": "gray",
                                                "radius": 2
                                            }
                                        }
                                    }
                                },
                                "action": {
                                    "add": {
                                        "projection": [
                                            {
                                                "layout": {
                                                    "type": "wrap",
                                                    "style": {
                                                        "box": {
                                                            "space": {
                                                                "inner": 5
                                                            }
                                                        }
                                                    },
                                                    "disposition": [
                                                        "Add a subsubtopic"
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                }
                            }
                        ]
                    }
                },
                "projection": [
                    {
                        "layout": {
                            "type": "wrap",
                            "disposition": [
                                "#topics"
                            ]
                        }
                    }
                ]
            }
        },
        "projection": [
            {
                "layout": {
                    "type": "stack",
                    "orientation": "vertical",
                    "disposition": [
                        "#name",
                        "#sub_topics:component"
                    ]
                }
            }
        ]
    },
    "@root": "mindmap",
    "@config": {
        "language": "Mind map demo",
        "settings": {
            "autosave": true
        },
        "style": {
            "attribute": {
                "inline": true,
                "spacing": {
                    "before": "2px",
                    "after": "2px"
                }
            },
            "component": {
                "inline": false,
                "size": {
                    "width": "FIT_CONTENT"
                },
                "spacing": {
                    "before": "5px",
                    "after": "5px"
                },
                "corner": {},
                "background": "#f0f0f0"
            }
        }
    }
}