[
    {
        "projection": {
            "nature": "prototype",
            "projection": [
                {
                    "type": "field",
                    "view": "choice",
                    "choice": {
                        "style": {
                            "css": "projection-choice"
                        },
                        "option": {
                            "style": {
                                "css": "projection-choice-option"
                            }
                        }
                    }
                }
            ]
        },
        "template_projection": {
            "nature": "concrete",
            "prototype": "projection",
            "projection": [
                {
                    "tags": [
                        "editor"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "stack",
                        "orientation": "vertical",
                        "disposition": [
                            {
                                "type": "attribute",
                                "name": "template"
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "choice"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            {
                                "type": "text",
                                "content": "Template"
                            }
                        ]
                    }
                }
            ]
        },
        "layout_projection": {
            "nature": "concrete",
            "prototype": "projection",
            "projection": [
                {
                    "tags": [
                        "editor",
                        "choice-selection"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            {
                                "type": "attribute",
                                "name": "concept"
                            },
                            {
                                "type": "attribute",
                                "name": "layout"
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "choice"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            {
                                "type": "text",
                                "content": "Layout"
                            }
                        ]
                    }
                }
            ]
        },
        "layout": {
            "nature": "prototype",
            "projection": [
                {
                    "type": "field",
                    "view": "choice",
                    "choice": {
                        "style": {
                            "css": "layout-choice"
                        },
                        "option": {
                            "style": {
                                "css": "layout-choice-option"
                            }
                        }
                    }
                }
            ]
        },
        "stack_layout": {
            "nature": "concrete",
            "prototype": "layout",
            "projection": [
                {
                    "tags": [
                        "editor"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "stack",
                        "orientation": "vertical",
                        "style": {
                            "css": "stack-layout"
                        },
                        "disposition": [
                            {
                                "type": "layout",
                                "layout": {
                                    "type": "wrap",
                                    "style": {
                                        "css": "stack-layout-header"
                                    },
                                    "disposition": [
                                        {
                                            "type": "text",
                                            "content": "Stack Layout"
                                        },
                                        {
                                            "type": "attribute",
                                            "name": "orientation"
                                        }
                                    ]
                                }
                            },
                            {
                                "type": "layout",
                                "layout": {
                                    "type": "wrap",
                                    "style": {
                                        "css": "stack-layout-body"
                                    },
                                    "disposition": [
                                        {
                                            "type": "attribute",
                                            "name": "elements"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "editor",
                        "choice-selection"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "stack",
                        "orientation": "vertical",
                        "style": {
                            "css": "stack-layout"
                        },
                        "disposition": [
                            {
                                "type": "layout",
                                "layout": {
                                    "type": "wrap",
                                    "style": {
                                        "css": "stack-layout-header"
                                    },
                                    "disposition": [
                                        {
                                            "type": "attribute",
                                            "name": "orientation"
                                        }
                                    ]
                                }
                            },
                            {
                                "type": "layout",
                                "layout": {
                                    "type": "wrap",
                                    "style": {
                                        "css": "stack-layout-body"
                                    },
                                    "disposition": [
                                        {
                                            "type": "attribute",
                                            "name": "elements"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "choice"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            {
                                "type": "text",
                                "content": "Stack Layout"
                            }
                        ]
                    }
                }
            ]
        },
        "wrap_layout": {
            "nature": "concrete",
            "prototype": "layout",
            "projection": [
                {
                    "tags": [
                        "editor"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "stack",
                        "orientation": "vertical",
                        "style": {
                            "css": "stack-layout"
                        },
                        "disposition": [
                            {
                                "type": "layout",
                                "layout": {
                                    "type": "wrap",
                                    "style": {
                                        "css": "stack-layout-header"
                                    },
                                    "disposition": [
                                        {
                                            "type": "text",
                                            "content": "Wrap Layout"
                                        }
                                    ]
                                }
                            },
                            {
                                "type": "layout",
                                "layout": {
                                    "type": "wrap",
                                    "style": {
                                        "css": "stack-layout-body"
                                    },
                                    "disposition": [
                                        {
                                            "type": "attribute",
                                            "name": "elements"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "choice-selection"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "stack",
                        "orientation": "vertical",
                        "style": {
                            "css": "stack-layout"
                        },
                        "disposition": [
                            {
                                "type": "layout",
                                "layout": {
                                    "type": "wrap",
                                    "style": {
                                        "css": "stack-layout-body"
                                    },
                                    "disposition": [
                                        {
                                            "type": "attribute",
                                            "name": "elements"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "choice"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            {
                                "type": "text",
                                "content": "Wrap Layout"
                            }
                        ]
                    }
                }
            ]
        },
        "table_layout": {
            "nature": "concrete",
            "prototype": "layout",
            "projection": [
                {
                    "tags": [
                        "editor"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "stack",
                        "orientation": "vertical",
                        "style": {
                            "css": "stack-layout"
                        },
                        "disposition": [
                            {
                                "type": "layout",
                                "layout": {
                                    "type": "wrap",
                                    "style": {
                                        "css": "stack-layout-header"
                                    },
                                    "disposition": [
                                        {
                                            "type": "text",
                                            "content": "Wrap Layout"
                                        }
                                    ]
                                }
                            },
                            {
                                "type": "layout",
                                "layout": {
                                    "type": "wrap",
                                    "style": {
                                        "css": "stack-layout-body"
                                    },
                                    "disposition": [
                                        {
                                            "type": "attribute",
                                            "name": "elements"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "choice-selection"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "stack",
                        "orientation": "vertical",
                        "style": {
                            "css": "table-layout"
                        },
                        "disposition": [
                            {
                                "type": "layout",
                                "layout": {
                                    "type": "wrap",
                                    "style": {
                                        "css": "table-layout-body"
                                    },
                                    "disposition": [
                                        {
                                            "type": "text",
                                            "content": "TODO"
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "choice"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            {
                                "type": "text",
                                "content": "Table Layout"
                            }
                        ]
                    }
                }
            ]
        },
        "template": {
            "nature": "prototype"
        },
        "table_template": {
            "nature": "concrete",
            "prototype": "template",
            "attribute": {
                "orientation": {
                    "target": "string",
                    "value": "column",
                    "values": [
                        "row",
                        "column"
                    ]
                },
                "header": {
                    "target": "set",
                    "accept": "table_header_cell",
                    "projection": [
                        {
                            "type": "field",
                            "view": "list",
                            "item": {
                                "style": {
                                    "box": {
                                        "border": {
                                            "size": 1,
                                            "color": "black"
                                        }
                                    }
                                }
                            }
                        }
                    ]
                },
                "body": {
                    "target": "set",
                    "accept": "table_cell",
                    "projection": [
                        {
                            "type": "field",
                            "view": "list",
                            "item": {
                                "style": {
                                    "box": {
                                        "border": {
                                            "size": 1,
                                            "color": "black"
                                        }
                                    }
                                }
                            }
                        }
                    ]
                }
            },
            "projection": [
                {
                    "layout": {
                        "type": "stack",
                        "orientation": "vertical",
                        "disposition": [
                            {
                                "type": "text",
                                "style": {
                                    "text": {
                                        "bold": 600,
                                        "color": {
                                            "type": "rgb",
                                            "value": "#222"
                                        },
                                        "size": 18
                                    },
                                    "box": {
                                        "space": {
                                            "outer": {
                                                "bottom": 6
                                            }
                                        }
                                    }
                                },
                                "disposition": "Table Field"
                            },
                            {
                                "type": "text",
                                "style": {
                                    "text": {
                                        "bold": 600,
                                        "color": {
                                            "type": "rgb",
                                            "value": "#333"
                                        },
                                        "underline": true,
                                        "size": 16
                                    },
                                    "box": {
                                        "space": {
                                            "outer": {
                                                "bottom": 2
                                            }
                                        }
                                    }
                                },
                                "disposition": "Header"
                            },
                            "#header",
                            {
                                "type": "text",
                                "style": {
                                    "text": {
                                        "bold": 600,
                                        "color": {
                                            "type": "rgb",
                                            "value": "#333"
                                        },
                                        "underline": true,
                                        "size": 16
                                    },
                                    "box": {
                                        "space": {
                                            "outer": {
                                                "bottom": 2
                                            }
                                        }
                                    }
                                },
                                "disposition": "Body"
                            },
                            "#body"
                        ]
                    }
                },
                {
                    "tags": [
                        "choice"
                    ],
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            "Table Field"
                        ]
                    }
                }
            ]
        },
        "table_header_cell": {
            "nature": "concrete",
            "attribute": {
                "projection": {
                    "target": "text_element"
                },
                "span": {
                    "target": "number",
                    "value": 1
                }
            },
            "projection": [
                {
                    "layout": {
                        "type": "stack",
                        "orientation": "vertical",
                        "disposition": [
                            "#projection"
                        ]
                    }
                }
            ]
        },
        "table_cell": {
            "nature": "concrete",
            "attribute": {
                "projection": {
                    "target": "element"
                },
                "span": {
                    "target": "number",
                    "value": 1
                }
            },
            "projection": [
                {
                    "layout": {
                        "type": "stack",
                        "orientation": "vertical",
                        "disposition": [
                            "#projection"
                        ]
                    }
                }
            ]
        },
        "choice_template": {
            "nature": "concrete",
            "attribute": {}
        },
        "list_template": {
            "nature": "concrete",
            "prototype": "template",
            "attribute": {
                "orientation": {
                    "target": "string",
                    "value": "horizontal",
                    "values": [
                        "horizontal",
                        "vertical"
                    ]
                },
                "item": {
                    "target": "set",
                    "accept": "field"
                }
            },
            "projection": [
                {
                    "layout": {
                        "type": "stack",
                        "orientation": "vertical",
                        "disposition": [
                            {
                                "type": "text",
                                "style": {
                                    "text": {
                                        "bold": 600,
                                        "color": {
                                            "type": "rgb",
                                            "value": "#222"
                                        },
                                        "size": 18
                                    },
                                    "box": {
                                        "space": {
                                            "outer": {
                                                "bottom": 6
                                            }
                                        }
                                    }
                                },
                                "disposition": "List Template"
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "choice"
                    ],
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            "List Template"
                        ]
                    }
                }
            ]
        },
        "element": {
            "nature": "prototype",
            "attribute": {
                "name": {
                    "target": "string"
                },
                "style": {
                    "target": "style",
                    "required": false
                }
            },
            "projection": [
                {
                    "type": "field",
                    "view": "choice",
                    "style": {
                        "css": "element-choice-container"
                    },
                    "choice": {
                        "style": {
                            "css": "element-choice"
                        },
                        "option": {
                            "style": {
                                "css": "element-choice-option"
                            }
                        }
                    }
                }
            ]
        },
        "layout_element": {
            "nature": "concrete",
            "prototype": "element",
            "projection": [
                {
                    "tags": [
                        "editor",
                        "choice-selection"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            {
                                "type": "attribute",
                                "name": "value"
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "choice"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            {
                                "type": "text",
                                "content": "Layout"
                            }
                        ]
                    }
                }
            ]
        },
        "text_element": {
            "nature": "concrete",
            "prototype": "element",
            "projection": [
                {
                    "tags": [
                        "editor",
                        "choice-selection"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "style": {
                            "css": "text-element"
                        },
                        "disposition": [
                            {
                                "type": "attribute",
                                "name": "value"
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "choice-selection"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "style": {
                            "css": "text-element"
                        },
                        "disposition": [
                            {
                                "type": "text",
                                "content": "Text"
                            },
                            {
                                "type": "attribute",
                                "name": "value"
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "choice"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            {
                                "type": "text",
                                "content": "Text"
                            }
                        ]
                    }
                }
            ]
        },
        "attribute_element": {
            "nature": "concrete",
            "prototype": "element",
            "attribute": {
                "value": {
                    "target": "reference",
                    "accept": {
                        "name": "attribute",
                        "scope": "concrete_concept",
                        "rel": "parent"
                    },
                    "projection": [
                        {
                            "type": "field",
                            "view": "link",
                            "placeholder": "Select an attribute",
                            "value": {
                                "projection": [
                                    {
                                        "readonly": true,
                                        "layout": {
                                            "type": "wrap",
                                            "disposition": [
                                                "#name"
                                            ]
                                        }
                                    }
                                ]
                            },
                            "choice": {
                                "projection": [
                                    {
                                        "readonly": true,
                                        "layout": {
                                            "type": "wrap",
                                            "disposition": [
                                                "Attribute #name"
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            },
            "projection": [
                {
                    "tags": [
                        "editor",
                        "choice-selection"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            {
                                "type": "attribute",
                                "name": "value"
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "choice"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            {
                                "type": "text",
                                "content": "Attribute"
                            }
                        ]
                    }
                }
            ]
        },
        "component_element": {
            "nature": "concrete",
            "prototype": "element",
            "attribute": {
                "value": {
                    "target": "reference",
                    "accept": "component",
                    "projection": [
                        {
                            "type": "field",
                            "view": "link",
                            "placeholder": "Select a component",
                            "scope": "parent",
                            "value": {
                                "projection": [
                                    {
                                        "type": "layout",
                                        "readonly": true,
                                        "layout": {
                                            "type": "wrap",
                                            "disposition": [
                                                {
                                                    "type": "attribute",
                                                    "name": "name"
                                                }
                                            ]
                                        }
                                    }
                                ]
                            },
                            "choice": {
                                "projection": [
                                    {
                                        "type": "layout",
                                        "readonly": true,
                                        "layout": {
                                            "type": "wrap",
                                            "disposition": [
                                                "Component",
                                                {
                                                    "type": "attribute",
                                                    "name": "name"
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            },
            "projection": [
                {
                    "tags": [
                        "editor",
                        "choice-selection"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            {
                                "type": "attribute",
                                "name": "value"
                            }
                        ]
                    }
                },
                {
                    "tags": [
                        "choice"
                    ],
                    "type": "layout",
                    "layout": {
                        "type": "wrap",
                        "disposition": [
                            {
                                "type": "text",
                                "content": "Component"
                            }
                        ]
                    }
                }
            ]
        },
        "style": {
            "nature": "concrete",
            "attribute": {
                "css": {
                    "target": "set",
                    "accept": {
                        "name": "string",
                        "alias": "class"
                    },
                    "required": false,
                    "projection": [
                        {
                            "type": "field",
                            "view": "list",
                            "before": {
                                "projection": [
                                    {
                                        "layout": {
                                            "type": "text",
                                            "disposition": "CSS class: "
                                        }
                                    }
                                ]
                            },
                            "action": {
                                "add": {
                                    "projection": [
                                        {
                                            "layout": {
                                                "type": "text",
                                                "disposition": "Add CSS class"
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    ]
                }
            },
            "projection": [
                {
                    "layout": {
                        "type": "stack",
                        "orientation": "horizontal",
                        "disposition": [
                            {
                                "type": "wrap",
                                "style": {
                                    "box": {
                                        "space": {
                                            "outer": {
                                                "right": 10
                                            }
                                        }
                                    }
                                },
                                "disposition": [
                                    "#css"
                                ]
                            },
                            "#text",
                            "#box"
                        ]
                    }
                }
            ]
        }
    },
    {
        "concept": { "name": "set", "accept": "tag" },
        "type": "field",
        "tags": ["tag-set"],
        "projection": {
            "type": "list",
            "orientation": "horizontal",
            "action": {
                "add": {
                    "projection": {
                        "type": "layout",
                        "layout": {
                            "type": "wrap",
                            "disposition": [
                                { "type": "text", "content": "Add a tag" }
                            ]
                        }
                    }
                }
            }
        }
    },
    {
        "concept": { "name": "set", "accept": "element" },
        "type": "field",
        "tags": ["element-set"],
        "projection": {
            "type": "list",
            "list": {
                "style": {
                    "css": "layout-element-list"
                }
            },
            "item": {
                "style": {
                    "css": "layout-element-list-item"
                }
            },
            "action": {
                "add": {
                    "style": {
                        "css": "layout-element-list__btn-add"
                    },
                    "projection": {
                        "type": "layout",
                        "layout": {
                            "type": "wrap",
                            "style": {
                                "css": "layout-element-list__btn-add-content"
                            },
                            "disposition": [
                                { "type": "text", "content": "+" }
                            ]
                        }
                    }
                }
            }
        }
    }
]