{
    "grammar": {
        "name": "Grammar",
        "attr": {
            "root": { 
                "name": "root", "type": "string", 
                "representation": { "type": "text", "val": "'@root': '$val'" } 
            },
            "language": { 
                "name": "language", "type": "string",
                "representation": { "type": "text", "val": "'language': '$val'" }  
            },
            "resources": { 
                "name": "resources", "type": "string", "optional": true,
                "multiple": { "type": "list" },
                "representation": { "type": "text", "val": "'resources': [$val]" }   
            }
        },
        "composition": [
            {
                "name": "Data Type",
                "position": 2,
                "optional": true,
                "attr": {
                    "screen_action": { "name": "screen_action", "type": "ID", "optional": true },
                    "screening": {
                        "name": "screening", "type": "screening",
                        "multiple": { "type": "list" }
                    }
                },
                "representation": {
                    "type": "text",
                    "k1": { "type": "keyword", "val": "SCREENING" },
                    "val": "$k1 #screen_action #screening"
                }
            },
            {
                "name": "Base Rule",
                "position": 1,
                "optional": true,
                "attr": {
                    "qa_action": { "name": "qa_action", "type": "ID", "optional": true },
                    "quality_assess": {
                        "name": "quality_assess", "type": "qa",
                        "multiple": { "type": "list", "min": 0 }
                    }
                },
                "representation": {
                    "type": "text",
                    "k1": { "type": "keyword", "val": "QA" },
                    "val": "$k1 #qa_action #quality_assess"
                }
            },
            {
                "name": "Enum",
                "position": 3,
                "attr": {
                    "class_action": { "name": "class_action", "type": "ID", "optional": true },
                    "category": {
                        "name": "category", "type": "category",
                        "multiple": { "type": "array", "min": 1 }, "inline": false, "separator": ""
                    }
                },
                "representation": {
                    "type": "text",
                    "k1": { "type": "keyword", "val": "DATA EXTRACTION" },
                    "val": "$k1 #class_action #category"
                }
            }
        ],
        "representation": {
            "type": "text",
            "k1": { "type": "keyword", "val": "PROJECT" },
            "val": "{ #root, '@config': { #language, #resources } }"
        }
    },
    "POS": {
        "name": "POS",
        "attr": {
            "id": { "name": "name", "type": "string" },
            "name": { "name": "name", "type": "ID" },
            "description": { "name": "description", "type": "string", "optional": true }
        },
        "abstract": true,
        "extensions": ["type", "attribute"]
    },
    "type": {
        "name": "type",
        "base": "POS",
        "abstract": true,
        "extensions": ["datatype", "baserule", "enum"]
    },
    "attribute": {
        "name": "POS",
        "base": "POS",
        "attr": {
            "type": { "name": "type", "type": "type" },
            "optional": { "name": "optional", "type": "boolean", "val": "false" },
            "multiple": { "name": "multiple", "type": "boolean", "val": "false" },
            "min": { "name": "min", "type": "integer", "val": "-1"},
            "max": { "max": "min", "type": "integer", "val": "-1"}
        }
    },
    "datatype": {
        "name": "datatype",
        "base": "type",
        "attr": {
            "format": { "name": "format", "type": "string" },
            "base": { "name": "type", "type": "primitive", "val": "string" }
        }
    },
    "baserule": {
        "name": "baserule",
        "base": "type",
        "composition": [
            {
                "name": "Attributes",
                "position": 1,
                "attr": {
                    "attributes": {
                        "name": "attributes", "type": "attribute",
                        "multiple": { "type": "list" }
                    }
                }
            },
            {
                "name": "Nested rules",
                "position": 2,
                "attr": {
                    "rules": {
                        "name": "rules", "type": "nestedrule",
                        "multiple": { "type": "list", "min": 1 }
                    }
                }
            }
        ]
    },
    "enum": {
        "name": "enum",
        "base": "type",
        "attr": {
            "format": { "name": "format", "type": "string" },
            "base": { "name": "type", "type": "primitive", "val": "string" }
        },
        "composition": [
            {
                "name": "Values",
                "position": 1,
                "multiple": true,
                "attr": {
                    "id": { "name": "id", "type": "string" },
                    "val": { "name": "val", "type": "string" }
                }
            }
        ]
    },
    "nestedrule": {
        "name": "nestedrule",
        "base": "POS",
        "attr": {
            "position": { "name": "position", "type": "string" },
            "optional": { "name": "optional", "type": "integer" }
        },
        "composition": [
            {
                "name": "Attributes",
                "position": 1,
                "attr": {
                    "attributes": {
                        "name": "attributes", "type": "attribute",
                        "multiple": { "type": "list" }
                    }
                }
            }
        ]
    },
    "abstractrule": {
        "name": "abstractrule",
        "base": "baserule",
        "attr": {
            "extensions": { 
                "name": "extensions", "type": "IDREF", "ref": "concreterule",
                "multiple": { "type": "list" }
            }
        }
    },
    "concreterule": {
        "name": "concreterule",
        "base": "baserule",
        "attr": {
            "base": { "name": "base", "type": "IDREF", "ref": "abstractrule", "optional": true }
        },
        "composition": ["representation"]
    },
    "representation": {
        "name": "representation",
        "attr": {
            "val": { "name": "val", "type": "string" },
            "inline": { "name": "inline", "type": "boolean", "val": "false" }
        },
        "abstract": true,
        "extensions": ["representationText"]
    },
    "representationText": {
        "name": "representationText",
        "base": "representation",
        "attr": {
            "name": { "name": "name", "type": "string" },
            "position": { "name": "position", "type": "integer" }
        },
        "abstract": true,
        "extensions": ["representationTextKeyword", "representationTextAttribute"]
    },
    "representationTextAttribute": {
        "name": "representationTextAttribute",
        "base": "representationText",
        "attr": {
            "attribute": { "name": "attribute", "type": "IDREF", "ref": "attribute" }
        }
    },
    "representationTextKeyword": {
        "name": "representationTextKeyword",
        "base": "representationText",
        "attr": {
            "value": { "name": "value", "type": "string" }
        }
    },
    "output": {
        "name": "output",
        "attr": {
            "name": { "name": "name", "type": "string" },
            "position": { "name": "position", "type": "integer" },
            "attribute": { "name": "attribute", "type": "IDREF", "ref": "attribute" }
        }
    },
    "json": {
        "name": "json",
        "type": "data-type",
        "representation": { "type": "text", "val": "'$val'" }
    },
    "primitive": {
        "name": "primitive",
        "type": "enum",
        "values": {
            "integer": "integer",
            "string": "string",
            "date": "string",
            "ID": "ID",
            "IDREF": "IDREF",
            "real": "real"
        }
    },
    "@root": "grammar",
    "@config": {
        "language": "Gentleman",
        "settings": {
            "autosave": true
        }
    }
}